<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qnet Wallet Setup - Edit Test</title>
    <link rel="stylesheet" href="styles/setup.css">
  </head>
  <body>
    <!-- Header Full Width -->
    <header class="setup-header-full">
        <div class="setup-header">
            <div class="setup-title">
                <img src="icons/icon-32.png" alt="Qnet Wallet" class="wallet-icon">
                <span>Qnet Wallet</span>
            </div>
            <div class="header-actions">
                <div class="language-selector">
                    <select id="language-select" class="language-dropdown">
                        <option value="en">English</option>
                        <option value="zh-CN">中文</option>
                        <option value="ru">Русский</option>
                        <option value="es">Español</option>
                        <option value="ko">한국어</option>
                        <option value="ja">日本語</option>
                        <option value="pt">Português</option>
                        <option value="fr">Français</option>
                        <option value="de">Deutsch</option>
                        <option value="ar">العربية</option>
                        <option value="it">Italiano</option>
                    </select>
                </div>
                <button id="close-setup" class="close-button">✕</button>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <div id="step-indicator" class="step-indicator">Step 1 of 5</div>
        </div>
    </header>
    
    <main class="setup-container">

        <!-- Welcome Step -->
        <div id="step-welcome" class="setup-step active">
            <div class="step-content">
                <div class="step-header">
                    <h1 class="step-title">Welcome to Qnet Wallet</h1>
                    <p class="step-description">Create a new wallet or import an existing one to get started with QNet and Solana networks.</p>
                </div>

                <div class="wallet-options">
                    <button id="create-new-wallet" class="primary-button">
                        Create New Wallet
                    </button>
                    <button id="import-existing-wallet" class="secondary-button">
                        Import Existing Wallet
                    </button>
                </div>

                <div class="security-notice">
                    <div class="warning-title">Your security is our priority</div>
                    <div class="warning-text">Qnet Wallet uses industry-standard encryption and never stores your private keys on our servers.</div>
                </div>
            </div>
        </div>

        <!-- Password Step -->
        <div id="step-password" class="setup-step">
            <div class="step-content">
                <div class="step-header">
                    <h1 class="step-title">Create Password</h1>
                    <p class="step-description">This password will unlock your wallet on this device.</p>
                </div>

                <form id="password-form" class="password-form">
                    <div class="input-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" required placeholder="Enter password (8+ characters)">
                    </div>

                    <div class="input-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" required placeholder="Confirm your password">
                    </div>

                    <!-- Simplified Requirements -->
                    <div class="password-requirements">
                        <div id="check-length" class="requirement-item">
                            <span class="check-icon">⏳</span>
                            <span>At least 8 characters</span>
                        </div>
                    </div>

                    <div id="password-error" class="error-message"></div>

                    <!-- Terms of Service Checkbox -->
                    <div class="terms-container">
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms-checkbox" class="terms-checkbox">
                            <span>I accept the <a href="#" id="terms-link" class="terms-link">Terms of Service</a></span>
                        </label>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="back-to-welcome" class="back-button">← Back</button>
                        <button type="submit" id="continue-password" class="primary-button" disabled>Continue</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Seed Phrase Display Step -->
        <div id="step-seed-display" class="setup-step">
            <div class="step-content">
                <div class="step-header">
                    <h1 class="step-title">Your Recovery Phrase</h1>
                    <p class="step-description">Write down this 12-word recovery phrase in the exact order shown. Keep it secure and never share it.</p>
                </div>

                <div class="seed-phrase-container">
                    <div id="seed-phrase-grid" class="seed-phrase-grid">
                        <!-- Words will be populated by JavaScript -->
                    </div>
                </div>

                <div class="seed-actions">
                    <button id="copy-seed" class="secondary-button">Copy</button>
                    <button id="download-seed" class="secondary-button">Download</button>
                </div>

                <div class="warning-box">
                    <div class="warning-icon">!</div>
                    <div class="warning-content">
                        <strong>Warning:</strong> Never share your recovery phrase with anyone. Anyone with this phrase can access your funds.
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" id="back-to-password" class="back-button">← Back</button>
                    <button type="button" id="continue-to-verify" class="primary-button">I've Saved It</button>
                </div>
            </div>
        </div>

        <!-- Seed Import Step -->
        <div id="step-seed-import" class="setup-step">
            <div class="step-content">
                <div class="step-header">
                    <h1 class="step-title">Import Recovery Phrase</h1>
                    <p class="step-description">Enter your 12 or 24-word recovery phrase to restore your wallet.</p>
                </div>

                <form id="import-form" class="import-form">
                    <div class="input-group">
                        <label for="seed-phrase-input">Recovery Phrase</label>
                        <textarea 
                            id="seed-phrase-input" 
                            rows="4"
                            placeholder="Enter your recovery phrase..."
                            required
                        ></textarea>
                    </div>

                    <div class="validation-checks">
                        <div id="word-count-check" class="validation-item waiting">
                            <span class="check-icon">⏳</span>
                            <span>Valid word count (12 or 24 words)</span>
                        </div>
                        <div id="words-valid-check" class="validation-item waiting">
                            <span class="check-icon">⏳</span>
                            <span>All words are valid</span>
                        </div>
                    </div>

                    <div id="import-error" class="error-message"></div>

                    <div class="form-actions">
                        <button type="button" id="back-to-password-import" class="back-button">← Back</button>
                        <button type="submit" id="continue-import" class="primary-button" disabled>Import Wallet</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Verification Step -->
        <div id="step-verification" class="setup-step">
            <div class="step-content">
                <div class="step-header">
                    <h1 class="step-title">Verify Recovery Phrase</h1>
                    <p class="step-description">Click the words in the correct order to verify you've saved your recovery phrase.</p>
                </div>

                <div id="verification-container" class="verification-container">
                    <!-- Verification UI will be populated by JavaScript -->
                </div>

                <div id="verification-error" class="error-message hidden"></div>

                <div class="form-actions">
                    <button type="button" id="back-to-seed" class="back-button">← Back</button>
                    <button type="button" id="complete-verification" class="primary-button" disabled>Complete Setup</button>
                </div>
            </div>
        </div>

        <!-- Success Step -->
        <div id="step-success" class="setup-step">
            <div class="step-content">
                <div class="success-container">
                    <div class="success-icon">✓</div>
                    <h1 class="step-title">Wallet Created Successfully!</h1>
                    <p class="step-description">Your Qnet Wallet is ready to use. You can now manage QNet and Solana assets securely.</p>
                    
                    <div class="wallet-addresses">
                        <div class="address-item">
                            <span class="address-label">QNet Address:</span>
                            <span id="qnet-address" class="address-value">Loading...</span>
                        </div>
                        <div class="address-item">
                            <span class="address-label">Solana Address:</span>
                            <span id="solana-address" class="address-value">Loading...</span>
                        </div>
                    </div>

                    <div class="success-actions">
                        <button id="open-wallet" class="primary-button large">Open Wallet</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="terms-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Terms of Service & Privacy Policy</h2>
                <button class="modal-close" id="close-terms-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="terms-text">
                    <h3>QNET WALLET TERMS OF SERVICE AND USER AGREEMENT</h3>
                    <p>By using this software, you acknowledge and agree to the following terms:</p>
                    
                    <h4>1. NO WARRANTY</h4>
                    <p>This software is provided "as is" without warranty of any kind, express or implied. The developers make no representations or warranties regarding the software's functionality, security, or fitness for any particular purpose.</p>
                    
                    <h4>2. ASSUMPTION OF RISK</h4>
                    <p>You acknowledge that:</p>
                    <ul>
                        <li>Cryptocurrency transactions are irreversible</li>
                        <li>Private keys and seed phrases are your sole responsibility</li>
                        <li>Loss of your seed phrase means permanent loss of access to your funds</li>
                        <li>Software bugs, hacks, or technical failures may result in loss of funds</li>
                        <li>The value of cryptocurrencies is highly volatile and may decrease to zero</li>
                    </ul>
                    
                    <h4>3. NO LIABILITY</h4>
                    <p>The developers, contributors, and affiliated parties shall not be liable for any direct, indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of funds, loss of data, or loss of profits.</p>
                    
                    <h4>4. YOUR RESPONSIBILITIES</h4>
                    <p>You are solely responsible for:</p>
                    <ul>
                        <li>Securing your seed phrase and private keys</li>
                        <li>Ensuring the legality of cryptocurrency use in your jurisdiction</li>
                        <li>Paying any applicable taxes on cryptocurrency transactions</li>
                        <li>Verifying transaction details before signing</li>
                        <li>Maintaining the security of your device</li>
                    </ul>
                    
                    <h4>5. PROHIBITED USE</h4>
                    <p>You agree not to use this wallet for:</p>
                    <ul>
                        <li>Any illegal activities</li>
                        <li>Money laundering or terrorist financing</li>
                        <li>Violating any applicable laws or regulations</li>
                        <li>Attempting to hack or disrupt the software</li>
                    </ul>
                    
                    <h4>6. INDEMNIFICATION</h4>
                    <p>You agree to indemnify and hold harmless the developers from any claims, damages, losses, or expenses arising from your use of this software.</p>
                    
                    <h4>7. CHANGES TO TERMS</h4>
                    <p>These terms may be updated at any time without prior notice. Continued use of the software constitutes acceptance of the updated terms.</p>
                    
                    <h4>8. GOVERNING LAW</h4>
                    <p>These terms shall be governed by the laws of the jurisdiction in which you reside.</p>
                    
                    <p><strong>By clicking "Accept", you confirm that you have read, understood, and agree to be bound by these terms.</strong></p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-button" id="decline-terms">Decline</button>
                <button class="primary-button" id="accept-terms">Accept</button>
            </div>
        </div>
    </div>

    <!-- Production crypto libraries -->
    <script src="lib/tweetnacl.min.js"></script>
    <script src="src/crypto/ProductionBIP39.js"></script>
    <script src="lib/solana-correct.js"></script>
    <script src="lib/crypto-secure.js"></script>
    <script src="src/security/SecureKeyManager.js"></script>
    <script src="setup.js"></script>
</body>
</html> 
