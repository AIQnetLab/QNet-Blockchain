<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QNet Dual Wallet</title>
    <link rel="stylesheet" href="styles/popup.css">
    <link rel="stylesheet" href="styles/modern-additions.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app-container">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-container">
                <div class="loading-spinner"></div>
                <h2>QNet Dual Wallet</h2>
                <p>Initializing dual-network architecture...</p>
            </div>
        </div>

        <!-- Setup Options Screen -->
        <div id="setup-options-screen" class="screen hidden">
            <div class="setup-container">
                <div class="wallet-logo">QNet</div>
                <h2>QNet Dual Wallet</h2>
                <p>Professional dual-network cryptocurrency wallet</p>
                
                <div class="setup-options">
                    <button id="create-wallet-button" class="qnet-button primary gradient full-width">
                        <div class="button-content">
                            <div class="button-icon">+</div>
                            <div class="button-text">
                                <span class="button-title">Create New Wallet</span>
                                <span class="button-subtitle">Generate a new dual-network wallet</span>
                            </div>
                        </div>
                    </button>
                    
                    <button id="import-wallet-button" class="qnet-button secondary gradient full-width">
                        <div class="button-content">
                            <div class="button-icon">↑</div>
                            <div class="button-text">
                                <span class="button-title">Import Wallet</span>
                                <span class="button-subtitle">Import from recovery phrase</span>
                            </div>
                        </div>
                    </button>
                </div>
                
                <div class="setup-footer">
                    <p>Your keys, your crypto. Always secure.</p>
                </div>
            </div>
        </div>

        <!-- Locked Screen -->
        <div id="locked-screen" class="screen hidden">
            <div class="phantom-lock-container">
                <div class="lock-header-top">
                    <h1 class="wallet-title">QNet</h1>
                </div>
                
                <div class="lock-content">
                    <div class="qnet-emblem">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                            <!-- Clean outer ring -->
                            <circle cx="40" cy="40" r="35" fill="none" stroke="url(#outerRing)" stroke-width="2"/>
                            
                            <!-- Inner ring -->
                            <circle cx="40" cy="40" r="25" fill="none" stroke="url(#innerRing)" stroke-width="1.5"/>
                            
                            <!-- Central core -->
                            <circle cx="40" cy="40" r="18" fill="url(#centralCore)"/>
                            
                            <!-- Clean Q letter -->
                            <g transform="translate(40, 40)">
                                <circle cx="0" cy="0" r="10" fill="none" stroke="url(#qGradient)" stroke-width="2"/>
                                <path d="M6 6 L10 10" stroke="url(#qGradient)" stroke-width="2" stroke-linecap="round"/>
                            </g>
                            
                            <defs>
                                <linearGradient id="outerRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#9945ff;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="innerRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#9945ff;stop-opacity:0.8" />
                                    <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:0.8" />
                                </linearGradient>
                                <radialGradient id="centralCore" cx="50%" cy="50%" r="50%">
                                    <stop offset="0%" style="stop-color:rgba(0,212,255,0.2);stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:rgba(153,69,255,0.1);stop-opacity:1" />
                                </radialGradient>
                                <linearGradient id="qGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#9945ff;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#0099cc;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    
                    <div class="lock-form">
                        <input type="password" id="password-input" class="phantom-password-input" placeholder="Password" autocomplete="current-password" />
                        <div id="password-error" class="phantom-error-message hidden"></div>
                        <button id="unlock-button" class="phantom-unlock-btn">Unlock wallet</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Wallet Screen -->
        <div id="main-wallet-screen" class="screen hidden">
            <!-- Modern Header -->
            <header class="modern-header">
                <div class="header-left">
                    <div class="wallet-logo-small">QNet</div>
                    <div class="network-switcher-compact">
                        <button class="network-tab active" data-network="qnet">QNet</button>
                        <button class="network-tab" data-network="solana">Solana</button>
                    </div>
                </div>
                <div class="header-right">
                    <button id="expand-wallet-btn" class="header-btn expand-btn" title="Open Full Application">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7 14H5V19H10V17H7V14ZM12 10H14V7H17V5H12V10Z"/>
                        </svg>
                    </button>
                    <button id="settings-button" class="header-btn settings-btn" title="Settings">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19.43 12.98C19.47 12.66 19.5 12.34 19.5 12S19.47 11.34 19.43 11.02L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.97 19.05 5.05L16.56 6.05C16.04 5.65 15.48 5.32 14.87 5.07L14.49 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.51 2.42L9.13 5.07C8.52 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.72 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.21 8.95 2.27 9.22 2.46 9.37L4.57 11.02C4.53 11.34 4.5 11.67 4.5 12S4.53 12.66 4.57 12.98L2.46 14.63C2.27 14.78 2.21 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.72 19.03 4.95 18.95L7.44 17.95C7.96 18.35 8.52 18.68 9.13 18.93L9.51 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.49 21.58L14.87 18.93C15.48 18.68 16.04 18.34 16.56 17.95L19.05 18.95C19.28 19.04 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.98ZM12 15.5C10.07 15.5 8.5 13.93 8.5 12S10.07 8.5 12 8.5 15.5 10.07 15.5 12 13.93 15.5 12 15.5Z"/>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Balance Section -->
            <section class="balance-section">
                <div class="account-info">
                    <div class="address-container">
                        <div id="account-address" class="account-address" title="Click to copy full address">
                        Loading...
                    </div>
                        <button id="copy-address-btn" class="copy-btn" title="Copy Full Address">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="balance-display">
                        <div id="total-balance" class="total-balance">$0.00</div>
                        <div id="network-balance" class="network-balance">Loading...</div>
                    </div>
                </div>
            </section>

            <!-- Main Tab Navigation -->
            <nav class="main-tab-nav">
                <button class="main-tab active" data-tab="assets">Assets</button>
                <button class="main-tab" data-tab="activity">Activity</button>
                <button class="main-tab" data-tab="nodes">Nodes</button>
            </nav>

            <!-- Tab Content Container -->
            <main class="tab-content-container">
                <!-- Assets Tab -->
                <div id="assets-tab" class="tab-content active">
                    <div class="content-scroll">
                        <div id="network-content">
                            <!-- QNet Assets -->
                            <div id="qnet-content" class="network-content active">
                                <ul id="qnet-token-list" class="token-list">
                                    <!-- QNet tokens will be populated here -->
                                </ul>
                            </div>
                            
                            <!-- Solana Assets -->
                            <div id="solana-content" class="network-content hidden">
                                <ul id="solana-token-list" class="token-list">
                                    <!-- Solana tokens will be populated here -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Activity Tab -->
                <div id="activity-tab" class="tab-content hidden">
                    <div class="content-scroll">
                        <div class="activity-content">
                            <div class="activity-filters">
                                <select id="activity-filter">
                                    <option value="all">All Transactions</option>
                                    <option value="sent">Sent</option>
                                    <option value="received">Received</option>
                                    <option value="swap">Swapped</option>
                                    </select>
                            </div>
                            <div id="transaction-list" class="transaction-list">
                                <!-- Transaction history will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Nodes Tab -->
                <div id="nodes-tab" class="tab-content hidden">
                    <div class="content-scroll">
                        <div class="nodes-content">
                            <div class="phase-indicator">
                                <div class="phase-info">
                                    <span id="phase-text">Phase 1: 1DEV Burn Activation</span>
                                    <span id="phase-progress">25% burned</span>
                                </div>
                            </div>
                            
                            <div class="node-management">
                                <div class="node-status-card">
                                    <div class="node-status-header">
                                        <h3>Node Status</h3>
                                        <div class="status-indicator" id="node-status-indicator">
                                            <div class="status-dot inactive"></div>
                                            <span>Inactive</span>
                                        </div>
                                    </div>
                                    <div class="node-details" id="node-details">
                                        <div class="detail-item">
                                            <span class="detail-label">Node Type</span>
                                            <span class="detail-value">Not activated</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Activation Cost</span>
                                            <span class="detail-value">1,500 1DEV</span>
                                        </div>
                                        <div class="detail-item">
                                            <span class="detail-label">Network Size</span>
                                            <span class="detail-value">~10,000 nodes</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="node-types">
                                    <h4>Node Types</h4>
                                    <div class="node-options">
                                    <div class="node-option" data-type="light">
                                            <div class="node-icon light">L</div>
                                            <div class="node-info">
                                        <span class="node-name">Light Node</span>
                                                <span class="node-description">Basic validation</span>
                                            </div>
                                            <div class="node-cost">1,500 1DEV</div>
                                    </div>
                                    <div class="node-option" data-type="full">
                                            <div class="node-icon full">F</div>
                                            <div class="node-info">
                                        <span class="node-name">Full Node</span>
                                                <span class="node-description">Complete validation</span>
                                            </div>
                                            <div class="node-cost">1,500 1DEV</div>
                                    </div>
                                    <div class="node-option" data-type="super">
                                            <div class="node-icon super">S</div>
                                            <div class="node-info">
                                        <span class="node-name">Super Node</span>
                                                <span class="node-description">Maximum performance</span>
                                            </div>
                                            <div class="node-cost">1,500 1DEV</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="activation-actions">
                                    <button id="activate-node-btn" class="activation-btn">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 2L2 7L12 12L22 7L12 2Z"/>
                                            <path d="M2 17L12 22L22 17"/>
                                            <path d="M2 12L12 17L22 12"/>
                                        </svg>
                                        Activate Node
                                    </button>
                                    <button id="node-monitoring-btn" class="monitoring-btn" disabled>
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M3 3V21H21V19H5V3H3ZM9 17H7V10H9V17ZM13 17H11V7H13V17ZM17 17H15V13H17V17Z"/>
                                        </svg>
                                        Monitor Node
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Tab Content Area for Actions -->
            <div class="tab-content-area" id="tab-content-area" style="display: none;">
                <!-- Send Tab -->
                <div class="content-tab send-tab" id="send-content-tab">
                    <div class="tab-header">
                        <h3>Send Tokens</h3>
                        <button class="close-tab" id="close-send-tab">×</button>
                    </div>
                    <div class="send-form">
                        <div class="form-group">
                            <label>To Address</label>
                            <input type="text" id="popup-send-address" placeholder="Enter recipient address" class="modern-input" />
                        </div>
                        <div class="form-group">
                            <label>Amount</label>
                            <div class="amount-input-group">
                                <input type="number" id="popup-send-amount" placeholder="0.00" class="modern-input" />
                                <select id="popup-send-token" class="modern-select">
                                    <option value="SOL">SOL</option>
                                    <option value="1DEV">1DEV</option>
                                    <option value="QNC">QNC</option>
                                </select>
                            </div>
                            <div class="available-balance">Available: <span id="popup-send-available">0.00</span></div>
                        </div>
                        <div class="form-group">
                            <label>Network Fee</label>
                            <div class="fee-options">
                                <button class="fee-option active" data-fee="standard">
                                    <span>Standard</span>
                                    <span>~0.0001 SOL</span>
                                </button>
                                <button class="fee-option" data-fee="fast">
                                    <span>Fast</span>
                                    <span>~0.0002 SOL</span>
                                </button>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button class="action-btn secondary" id="popup-cancel-send">Cancel</button>
                            <button class="action-btn primary" id="popup-confirm-send">Send Tokens</button>
                        </div>
                    </div>
                </div>
                
                <!-- Receive Tab -->
                <div class="content-tab receive-tab" id="receive-content-tab">
                    <div class="tab-header">
                        <h3>Receive Tokens</h3>
                        <button class="close-tab" id="close-receive-tab">×</button>
                    </div>
                    <div class="receive-content">
                        <div class="address-section">
                            <label>Your Address</label>
                            <div class="address-display">
                                <span id="popup-receive-address" class="address-text">Loading...</span>
                                <button class="copy-address-btn" id="popup-copy-address">Copy</button>
                            </div>
                        </div>
                        <div class="qr-section">
                            <div class="qr-container">
                                <canvas id="popup-qr-code" width="180" height="180"></canvas>
                            </div>
                        </div>
                        <div class="network-selector">
                            <label>Network</label>
                            <select id="popup-receive-network" class="modern-select">
                                <option value="solana">Solana</option>
                                <option value="qnet">QNet</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Swap Tab -->
                <div class="content-tab swap-tab" id="swap-content-tab">
                    <div class="tab-header">
                        <h3>Swap Tokens</h3>
                        <button class="close-tab" id="close-swap-tab">×</button>
                    </div>
                    <div class="swap-form">
                        <div class="form-group">
                            <label>From</label>
                            <div class="token-input">
                                <input type="number" id="popup-swap-from-amount" placeholder="0.0" class="modern-input" />
                                <select id="popup-swap-from-token" class="modern-select">
                                    <option value="SOL">SOL</option>
                                    <option value="1DEV">1DEV</option>
                                    <option value="QNC">QNC</option>
                                </select>
                            </div>
                            <div class="balance-info">Balance: <span id="popup-swap-from-balance">0.00</span></div>
                        </div>
                        
                        <div class="swap-divider">
                            <button class="swap-reverse" id="popup-swap-reverse">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 3L21 8L16 13V10H4V6H16V3Z"/>
                                    <path d="M8 21L3 16L8 11V14H20V18H8V21Z"/>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="form-group">
                            <label>To</label>
                            <div class="token-input">
                                <input type="number" id="popup-swap-to-amount" placeholder="0.0" class="modern-input" readonly />
                                <select id="popup-swap-to-token" class="modern-select">
                                    <option value="1DEV">1DEV</option>
                                    <option value="SOL">SOL</option>
                                    <option value="QNC">QNC</option>
                                </select>
                            </div>
                            <div class="balance-info">Balance: <span id="popup-swap-to-balance">0.00</span></div>
                        </div>
                        
                        <div class="swap-details">
                            <div class="detail-row">
                                <span>Rate</span>
                                <span>1 SOL = 0.001 QNC</span>
                            </div>
                            <div class="detail-row">
                                <span>Fee</span>
                                <span>~0.0001 SOL</span>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button class="action-btn secondary" id="popup-cancel-swap">Cancel</button>
                            <button class="action-btn primary" id="popup-confirm-swap">Swap Tokens</button>
                        </div>
                    </div>
                </div>
                
                <!-- Node Tab -->
                <div class="content-tab node-tab" id="node-content-tab">
                    <div class="tab-header">
                        <h3>Node Management</h3>
                        <button class="close-tab" id="close-node-tab">×</button>
                    </div>
                    <div class="node-content">
                        <div class="node-status-compact">
                            <div class="status-indicator" id="popup-node-status">
                                <div class="status-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 2L2 7L12 12L22 7L12 2Z"/>
                                        <path d="M2 17L12 22L22 17"/>
                                        <path d="M2 12L12 17L22 12"/>
                                    </svg>
                                </div>
                                <div class="status-info">
                                    <span class="status-text">Not Activated</span>
                                    <span class="status-detail">No active nodes</span>
                        </div>
                    </div>
                </div>

                        <div class="node-quick-actions">
                            <div class="node-type-select">
                                <label>Node Type</label>
                                <select id="popup-node-type" class="modern-select">
                                    <option value="">Choose type</option>
                                    <option value="light">Light (1,500 1DEV)</option>
                                                                <option value="full">Full (1,500 1DEV)</option>
                            <option value="super">Super (1,500 1DEV)</option>
                                </select>
                            </div>
                            
                            <div class="balance-check">
                                <span>Available: <span id="popup-dev-balance">0 1DEV</span></span>
                                <span>Required: <span id="popup-required-balance">-- 1DEV</span></span>
                            </div>
                            
                            <button class="action-btn primary full-width" id="popup-activate-node" disabled>
                                Activate Node
                            </button>
                            
                            <button class="action-btn secondary full-width" id="popup-view-full-nodes">
                                View Full Management
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Tab -->
                <div class="content-tab settings-tab" id="settings-content-tab">
                    <div class="tab-header">
                        <h3>Wallet Settings</h3>
                        <button class="close-tab" id="close-settings-tab">×</button>
                    </div>
                    <div class="settings-content">
                        <div class="settings-section">
                            <h4>Network Settings</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label>Solana Network</label>
                                    <p>Switch between devnet and mainnet</p>
                                </div>
                                <div class="setting-control">
                                    <select id="popup-solana-network-select" class="modern-select">
                                        <option value="devnet">Devnet</option>
                                        <option value="mainnet">Mainnet Beta</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label>QNet Network</label>
                                    <p>Switch between testnet and mainnet</p>
                                </div>
                                <div class="setting-control">
                                    <select id="popup-qnet-network-select" class="modern-select">
                                        <option value="testnet">Testnet</option>
                                        <option value="mainnet">Mainnet</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h4>Security Settings</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label>Auto-Lock Timer</label>
                                    <p>Automatically lock wallet after inactivity</p>
                                </div>
                                <div class="setting-control">
                                    <select id="popup-autolock-select" class="modern-select">
                                        <option value="0">Never</option>
                                        <option value="300">5 minutes</option>
                                        <option value="900">15 minutes</option>
                                        <option value="3600">1 hour</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label>Password Security</label>
                                    <p>Change wallet password</p>
                                </div>
                                <div class="setting-control">
                                    <button id="popup-change-password-btn" class="modern-btn secondary">
                                        Change Password
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h4>Display Settings</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label>Language</label>
                                    <p>Wallet interface language</p>
                                </div>
                                <div class="setting-control">
                                    <select id="popup-language-select" class="modern-select">
                                        <option value="en">English</option>
                                        <option value="ru">Русский</option>
                                        <option value="zh">中文</option>
                                        <option value="ja">日本語</option>
                                        <option value="ko">한국어</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <label>Address Display</label>
                                    <p>Show full or shortened addresses</p>
                                </div>
                                <div class="setting-control">
                                    <select id="popup-address-format-select" class="modern-select">
                                        <option value="full">Full Address</option>
                                        <option value="shortened">Shortened</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Action Buttons -->
            <div class="bottom-actions">
                <button class="action-btn send-btn" id="send-action-btn">
                    <div class="action-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z"/>
                        </svg>
                    </div>
                    <span class="action-label">Send</span>
                </button>
                
                <button class="action-btn receive-btn" id="receive-action-btn">
                    <div class="action-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M22 3L13 12L22 21L20 23L9 12L20 1L22 3Z"/>
                        </svg>
                    </div>
                    <span class="action-label">Receive</span>
                </button>
                
                <button class="action-btn swap-btn" id="swap-action-btn">
                    <div class="action-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16 3L21 8L16 13V10H4V6H16V3Z"/>
                            <path d="M8 21L3 16L8 11V14H20V18H8V21Z"/>
                        </svg>
                    </div>
                    <span class="action-label">Swap</span>
                </button>
                
                <button class="action-btn node-btn" id="node-action-btn">
                    <div class="action-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z"/>
                            <path d="M2 17L12 22L22 17"/>
                            <path d="M2 12L12 17L22 12"/>
                        </svg>
                    </div>
                    <span class="action-label">Node</span>
                </button>
            </div>
        </div>

        <!-- Enhanced Settings Modal - DISABLED -->
        <div id="settings-modal" class="modal-overlay hidden" style="display: none !important;">
            <div class="modern-modal">
                <div class="modal-header">
                    <h3>Wallet Settings</h3>
                    <button id="close-settings" class="close-button">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    </button>
                </div>
                
                <div class="settings-content">
                    <div class="settings-section">
                        <h4>Network Settings</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Solana Network</label>
                                <p>Switch between devnet and mainnet</p>
                            </div>
                            <div class="setting-control">
                                <select id="solana-network-select" class="modern-select">
                                    <option value="devnet">Devnet</option>
                                    <option value="mainnet">Mainnet Beta</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>QNet Network</label>
                                <p>Switch between testnet and mainnet</p>
                            </div>
                            <div class="setting-control">
                                <select id="qnet-network-select" class="modern-select">
                                    <option value="testnet">Testnet</option>
                                    <option value="mainnet">Mainnet</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Security Settings</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Auto-Lock Timer</label>
                                <p>Automatically lock wallet after inactivity</p>
                            </div>
                            <div class="setting-control">
                                <select id="autolock-select" class="modern-select">
                                    <option value="0">Never</option>
                                    <option value="300">5 minutes</option>
                                    <option value="900">15 minutes</option>
                                    <option value="3600">1 hour</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Password Security</label>
                                <p>Change wallet password</p>
                            </div>
                            <div class="setting-control">
                                <button id="change-password-btn" class="modern-btn secondary">
                                    Change Password
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Display Settings</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Language</label>
                                <p>Wallet interface language</p>
                            </div>
                            <div class="setting-control">
                                <select id="language-select" class="modern-select">
                                    <option value="en">English</option>
                                    <option value="ru">Русский</option>
                                    <option value="zh">中文</option>
                                    <option value="ja">日本語</option>
                                    <option value="ko">한국어</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Address Display</label>
                                <p>Show full or shortened addresses</p>
                            </div>
                            <div class="setting-control">
                                <select id="address-format-select" class="modern-select">
                                    <option value="full">Full Address</option>
                                    <option value="shortened">Shortened</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section danger-zone">
                        <h4>Danger Zone</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Backup & Recovery</label>
                                <p>View recovery phrase and export data</p>
                            </div>
                            <div class="setting-control">
                                <button id="show-seed-btn" class="modern-btn secondary">
                                    Show Recovery Phrase
                                </button>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Reset Wallet</label>
                                <p>Permanently delete all wallet data</p>
                            </div>
                            <div class="setting-control">
                                <button id="reset-wallet-btn" class="modern-btn danger">
                                    Reset Wallet
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- Password Change Modal -->
        <div id="password-change-modal" class="modal-overlay hidden">
            <div class="modern-modal">
                <div class="modal-header">
                    <h3>Change Password</h3>
                    <button id="close-password-change-modal" class="close-button">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    </button>
                </div>
                
                <div class="password-change-form">
                    <div class="form-group">
                        <label for="current-password">Current Password</label>
                        <input type="password" id="current-password" class="modern-input" placeholder="Enter current password" />
                        <div class="password-error" id="current-password-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" class="modern-input" placeholder="Enter new password" />
                        <div class="password-strength" id="password-strength">
                            <div class="strength-bar">
                                <div class="strength-fill"></div>
                </div>
                            <span class="strength-text">Enter password</span>
            </div>
        </div>

                    <div class="form-group">
                        <label for="confirm-new-password">Confirm New Password</label>
                        <input type="password" id="confirm-new-password" class="modern-input" placeholder="Confirm new password" />
                        <div class="password-error" id="confirm-password-error"></div>
                </div>
                
                    <div class="password-requirements">
                        <p>Password must contain:</p>
                        <ul>
                            <li id="req-length">At least 8 characters</li>
                            <li id="req-uppercase">One uppercase letter</li>
                            <li id="req-lowercase">One lowercase letter</li>
                            <li id="req-number">One number</li>
                            <li id="req-special">One special character</li>
                        </ul>
                </div>
                
                    <button id="change-password-confirm" class="modern-btn primary full-width">
                        Change Password
                    </button>
                </div>
            </div>
        </div>



        <!-- Wallet Setup Modal -->
        <div id="wallet-setup-modal" class="modal-overlay hidden">
            <div class="modern-modal large">
                <div class="modal-header">
                    <h3 id="setup-modal-title">Create New Wallet</h3>
                    <button id="close-setup" class="close-button">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    </button>
                </div>
                
                <div id="setup-content" class="setup-content">
                    <!-- Create Wallet -->
                    <div id="create-wallet-content" class="setup-step">
                        <div class="step-header">
                            <h4>Create Your QNet Dual Wallet</h4>
                            <p>Secure HD wallet supporting both Solana and QNet networks</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-wallet-password">Create Password</label>
                            <input type="password" id="new-wallet-password" class="modern-input" placeholder="Enter a strong password" autocomplete="new-password" minlength="8" />
                            <div class="password-strength" id="new-wallet-password-strength">
                                <div class="strength-bar">
                                    <div class="strength-fill"></div>
                                </div>
                                <span class="strength-text">Enter password</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-wallet-password">Confirm Password</label>
                            <input type="password" id="confirm-wallet-password" class="modern-input" placeholder="Confirm your password" autocomplete="new-password" minlength="8" />
                            <div class="password-error" id="wallet-password-error"></div>
                        </div>
                        
                        <div class="password-requirements">
                            <p>Password requirements:</p>
                            <ul>
                                <li id="wallet-req-length">At least 8 characters</li>
                                <li id="wallet-req-uppercase">Upper and lowercase letters</li>
                                <li id="wallet-req-number">Numbers and special characters</li>
                            </ul>
                        </div>
                        
                        <button id="generate-wallet-button" class="modern-btn primary full-width">
                            Generate Dual Wallet
                        </button>
                    </div>
                    
                    <!-- Import Wallet -->
                    <div id="import-wallet-content" class="setup-step hidden">
                        <div class="step-header">
                            <h4>Import Existing Wallet</h4>
                            <p>Import your wallet using recovery phrase</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="import-seed-phrase">Recovery Phrase</label>
                            <textarea id="import-seed-phrase" class="modern-textarea" placeholder="Enter your 12 or 24 word recovery phrase" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="import-password">Create Password</label>
                            <input type="password" id="import-password" class="modern-input" placeholder="Enter a strong password" autocomplete="new-password" minlength="8" />
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-import-password">Confirm Password</label>
                            <input type="password" id="confirm-import-password" class="modern-input" placeholder="Confirm your password" autocomplete="new-password" minlength="8" />
                            <div class="password-error" id="import-password-error"></div>
                        </div>
                        
                        <button id="import-wallet-confirm" class="modern-btn primary full-width">
                            Import Wallet
                        </button>
                    </div>
                    
                    <!-- Seed Phrase Display -->
                    <div id="seed-phrase-display" class="setup-step hidden">
                        <div class="step-header">
                            <h4>Your Recovery Phrase</h4>
                            <p>Write down these words in order and store them safely</p>
                        </div>
                        
                        <div class="seed-phrase-container">
                            <div class="seed-phrase-grid" id="seed-phrase-words">
                                <!-- Words will be populated here -->
                            </div>
                        </div>
                        
                        <div class="seed-actions">
                            <button id="copy-seed-phrase" class="modern-btn secondary">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z"/>
                                </svg>
                                Copy to Clipboard
                            </button>
                            <button id="download-seed-phrase" class="modern-btn secondary">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M5 20H19V18H5V20ZM19 9H15V3H9V9H5L12 16L19 9Z"/>
                                </svg>
                                Download
                            </button>
                        </div>
                        
                        <div class="security-warning">
                            <p><strong>Security Warning:</strong> Never share your recovery phrase. Anyone with access to it can steal your funds.</p>
                        </div>
                        
                        <button id="seed-confirmed-btn" class="modern-btn primary full-width">
                            I've Saved My Recovery Phrase
                        </button>
                    </div>
                    
                    <!-- Seed Verification -->
                    <div id="seed-verification" class="setup-step hidden">
                        <div class="step-header">
                            <h4>Verify Recovery Phrase</h4>
                            <p>Please confirm your recovery phrase by entering the requested words</p>
                        </div>
                        
                        <div class="verification-container" id="verification-fields">
                            <!-- Verification fields will be populated here -->
                        </div>
                        
                        <div class="verification-error" id="verification-error"></div>
                        
                        <div class="verification-actions">
                            <button id="verify-seed-btn" class="modern-btn primary full-width">
                                Verify and Complete Setup
                            </button>
                            <button id="back-to-seed-btn" class="modern-btn secondary full-width">
                                Back to Recovery Phrase
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/password-validation.js"></script>
    <script src="src/popup-tabs.js"></script>
    <script src="popup.js"></script>
</body>
</html> 