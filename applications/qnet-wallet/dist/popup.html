<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QNet Dual Wallet</title>
    <link rel="stylesheet" href="styles/popup.css">
    <link rel="stylesheet" href="styles/expanded.css">
    <!-- Google Fonts removed for CSP compliance - using system fonts -->
</head>
<body>
    <div id="app-container">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-container">
                <div class="loading-spinner"></div>
                <h2>QNet Dual Wallet</h2>
                <p>Initializing dual-network architecture...</p>
            </div>
        </div>

        <!-- Setup Options Screen -->
        <div id="setup-options-screen" class="screen hidden">
            <div class="setup-container">
                <div class="wallet-logo">QNet</div>
                <h2>QNet Dual Wallet</h2>
                <p>Professional dual-network cryptocurrency wallet</p>
                
                <div class="setup-options">
                    <button id="create-wallet-button" class="qnet-button primary gradient full-width">
                        <div class="button-content">
                            <div class="button-icon">+</div>
                            <div class="button-text">
                                <span class="button-title">Create New Wallet</span>
                                <span class="button-subtitle">Generate a new dual-network wallet</span>
                            </div>
                        </div>
                    </button>
                    
                    <button id="import-wallet-button" class="qnet-button secondary gradient full-width">
                        <div class="button-content">
                            <div class="button-icon">‚Üë</div>
                            <div class="button-text">
                                <span class="button-title">Import Wallet</span>
                                <span class="button-subtitle">Import from recovery phrase</span>
                            </div>
                        </div>
                    </button>
                </div>
                
                <div class="setup-footer">
                    <p>Your keys, your crypto. Always secure.</p>
                </div>
            </div>
        </div>

        <!-- Locked Screen -->
        <div id="locked-screen" class="screen hidden">
            <div class="phantom-lock-container">
                <div class="lock-header-top">
                    <h1 class="wallet-title">QNet</h1>
                </div>
                
                <div class="lock-content">
                    <div class="qnet-emblem">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                            <!-- Clean outer ring -->
                            <circle cx="40" cy="40" r="35" fill="none" stroke="url(#outerRing)" stroke-width="2"/>
                            
                            <!-- Inner ring -->
                            <circle cx="40" cy="40" r="25" fill="none" stroke="url(#innerRing)" stroke-width="1.5"/>
                            
                            <!-- Central core -->
                            <circle cx="40" cy="40" r="18" fill="url(#centralCore)"/>
                            
                            <!-- Clean Q letter -->
                            <g transform="translate(40, 40)">
                                <circle cx="0" cy="0" r="10" fill="none" stroke="url(#qGradient)" stroke-width="2"/>
                                <path d="M6 6 L10 10" stroke="url(#qGradient)" stroke-width="2" stroke-linecap="round"/>
                            </g>
                            
                            <defs>
                                <linearGradient id="outerRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#9945ff;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="innerRing" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#9945ff;stop-opacity:0.8" />
                                    <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:0.8" />
                                </linearGradient>
                                <radialGradient id="centralCore" cx="50%" cy="50%" r="50%">
                                    <stop offset="0%" style="stop-color:rgba(0,212,255,0.2);stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:rgba(153,69,255,0.1);stop-opacity:1" />
                                </radialGradient>
                                <linearGradient id="qGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#9945ff;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#0099cc;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    
                    <div class="lock-form">
                        <input type="password" id="password-input" class="phantom-password-input" placeholder="Password" autocomplete="current-password" />
                        <div id="password-error" class="phantom-error-message hidden"></div>
                        <button id="unlock-button" class="phantom-unlock-btn">Unlock wallet</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Wallet Screen -->
        <div id="main-wallet-screen" class="screen hidden">
            <!-- Compact Header -->
            <header class="compact-header">
                <div class="header-left">
                    <div class="wallet-logo-small">QNet</div>
                    <div class="network-switcher-compact">
                        <button class="network-tab active" data-network="qnet">QNet</button>
                        <button class="network-tab" data-network="solana">Solana</button>
                    </div>
                </div>
                <div class="header-right">
                    <button id="expand-wallet-btn" class="header-btn expand-btn" title="Open Full Application">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>
                        </svg>
                    </button>
                    <button id="settings-button" class="header-btn settings-btn" title="Settings">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                        </svg>
                    </button>
                    <button id="lock-wallet-btn" class="header-btn lock-btn" title="Lock Wallet">
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"/>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Compact Balance Section -->
            <section class="balance-section-compact">
                <div class="address-row">
                    <div id="account-address" class="address-full" title="Click to copy">
                        Loading...
                    </div>
                </div>
                <div class="balance-row">
                    <div class="balance-main">
                        <div id="total-balance" class="balance-amount">$0.00</div>
                        <div id="network-balance" class="balance-network">Loading...</div>
                    </div>
                    <div class="balance-actions">
                        <button id="quick-send-btn" class="quick-action-btn" title="Quick Send">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z"/>
                            </svg>
                        </button>
                        <button id="quick-receive-btn" class="quick-action-btn" title="Quick Receive">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M22 3L13 12L22 21L20 23L9 12L20 1L22 3Z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Main Tab Navigation -->
            <nav class="main-tab-nav">
                <button class="main-tab active" data-tab="assets" type="button">Assets</button>
                <button class="main-tab" data-tab="send" type="button">Send</button>
                <button class="main-tab" data-tab="receive" type="button">Receive</button>
                <button class="main-tab" data-tab="activate" type="button">Activate</button>
                <button class="main-tab" data-tab="history" type="button">History</button>
            </nav>

            <!-- Tab Content Container -->
            <main class="tab-content-container">
                <!-- Assets Tab -->
                <div id="assets-tab" class="tab-content active">
                    <div class="content-scroll">
                        <div id="network-content">
                            <!-- QNet Assets -->
                            <div id="qnet-content" class="network-content active">
                                <ul id="qnet-token-list" class="token-list compact">
                                    <!-- QNet tokens will be populated here -->
                                </ul>
                            </div>
                            
                            <!-- Solana Assets -->
                            <div id="solana-content" class="network-content hidden">
                                <ul id="solana-token-list" class="token-list compact">
                                    <!-- Solana tokens will be populated here -->
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Send Tab -->
                <div id="send-tab" class="tab-content hidden">
                    <div class="content-scroll">
                        <div class="send-form">
                            <div class="form-group">
                                <label>To Address</label>
                                <input type="text" id="send-address" placeholder="Enter recipient address" />
                            </div>
                            <div class="form-group">
                                <label>Amount</label>
                                <div class="amount-input-group">
                                    <input type="number" id="send-amount" placeholder="0.00" />
                                    <select id="send-token">
                                        <option value="qnc">QNC</option>
                                        <option value="sol">SOL</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Network Fee</label>
                                <div class="fee-info-free">
                                    <span style="color: #00d4ff;">‚ú® Free - No fees!</span>
                                </div>
                            </div>
                            <button id="send-confirm-btn" class="action-btn primary">Send Transaction</button>
                        </div>
                    </div>
                </div>

                <!-- Receive Tab -->
                <div id="receive-tab" class="tab-content hidden">
                    <div class="content-scroll">
                        <div class="receive-content">
                            <div class="qr-container">
                                <canvas id="qr-canvas"></canvas>
                            </div>
                            <div class="address-display">
                                <label>Your Address</label>
                                <div class="address-text" id="receive-address">Loading...</div>
                                <button id="copy-receive-address" class="copy-btn">Copy Address</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Activate Tab -->
                <div id="activate-tab" class="tab-content hidden">
                    <div class="content-scroll">
                        <div class="activate-content">
                            <div class="phase-indicator compact">
                                <div class="phase-info">
                                    <span id="phase-text">Phase 1: 1DEV Burn Activation</span>
                                    <span id="phase-progress">25% burned</span>
                                </div>
                            </div>
                            
                            <div class="node-management">
                                <h3>Node Management</h3>
                                <div class="node-status" id="node-status">
                                    <span>Status: Not Active</span>
                                    <button id="activate-node-btn" class="action-btn secondary">Activate Node</button>
                                </div>
                                
                                <div class="node-options" id="node-options">
                                    <div class="node-option" data-type="light">
                                        <span class="node-emoji">üí°</span>
                                        <span class="node-name">Light Node</span>
                                        <span class="node-price">Free</span>
                                    </div>
                                    <div class="node-option" data-type="full">
                                        <span class="node-emoji">üîã</span>
                                        <span class="node-name">Full Node</span>
                                        <span class="node-price">Free</span>
                                    </div>
                                    <div class="node-option" data-type="super">
                                        <span class="node-emoji">‚ö°</span>
                                        <span class="node-name">Super Node</span>
                                        <span class="node-price">Free</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- History Tab -->
                <div id="history-tab" class="tab-content hidden">
                    <div class="content-scroll">
                        <div class="history-content">
                            <div class="history-filters">
                                <select id="history-filter">
                                    <option value="all">All Transactions</option>
                                    <option value="sent">Sent</option>
                                    <option value="received">Received</option>
                                    <option value="swap">Swapped</option>
                                </select>
                            </div>
                            <div id="transaction-list" class="transaction-list">
                                <!-- Transaction history will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal-overlay hidden">
            <div class="modal-box">
                <div class="modal-header">
                    <h3>Wallet Settings</h3>
                    <button id="close-settings" class="close-button">‚úï</button>
                </div>
                
                <div class="settings-content">
                    <div class="setting-group">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Network Environment</h4>
                                <p>Switch between testnet and mainnet</p>
                            </div>
                            <div class="setting-actions">
                                <div class="custom-dropdown">
                                    <button id="network-dropdown-btn" class="dropdown-button">
                                        <span id="network-current">Testnet</span>
                                        <svg width="12" height="12" viewBox="0 0 20 20" fill="currentColor">
                                            <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>
                                        </svg>
                                    </button>
                                    <div id="network-dropdown-menu" class="dropdown-menu hidden">
                                        <div class="dropdown-item" data-value="testnet">üß™ Testnet (Development)</div>
                                        <div class="dropdown-item" data-value="mainnet">üåç Mainnet (Production)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Auto-Lock Timer</h4>
                                <p>Automatically lock wallet after inactivity</p>
                            </div>
                            <div class="setting-actions">
                                <div class="custom-dropdown">
                                    <button id="timer-dropdown-btn" class="dropdown-button">
                                        <span id="timer-current">15 minutes</span>
                                        <svg width="12" height="12" viewBox="0 0 20 20" fill="currentColor">
                                            <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>
                                        </svg>
                                    </button>
                                    <div id="timer-dropdown-menu" class="dropdown-menu hidden">
                                        <div class="dropdown-item" data-value="1">1 minute</div>
                                        <div class="dropdown-item" data-value="5">5 minutes</div>
                                        <div class="dropdown-item" data-value="15">15 minutes</div>
                                        <div class="dropdown-item" data-value="30">30 minutes</div>
                                        <div class="dropdown-item" data-value="60">1 hour</div>
                                        <div class="dropdown-item" data-value="never">Never</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Language</h4>
                                <p>Wallet interface language</p>
                            </div>
                            <div class="setting-actions">
                                <div class="custom-dropdown">
                                    <button id="language-dropdown-btn" class="dropdown-button">
                                        <span id="language-current">English</span>
                                        <svg width="12" height="12" viewBox="0 0 20 20" fill="currentColor">
                                            <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>
                                        </svg>
                                    </button>
                                    <div id="language-dropdown-menu" class="dropdown-menu hidden">
                                        <div class="dropdown-item" data-value="en">English</div>
                                        <div class="dropdown-item" data-value="zh-CN">‰∏≠Êñá</div>
                                        <div class="dropdown-item" data-value="ru">–†—É—Å—Å–∫–∏–π</div>
                                        <div class="dropdown-item" data-value="es">Espa√±ol</div>
                                        <div class="dropdown-item" data-value="ko">ÌïúÍµ≠Ïñ¥</div>
                                        <div class="dropdown-item" data-value="ja">Êó•Êú¨Ë™û</div>
                                        <div class="dropdown-item" data-value="pt">Portugu√™s</div>
                                        <div class="dropdown-item" data-value="fr">Fran√ßais</div>
                                        <div class="dropdown-item" data-value="de">Deutsch</div>
                                        <div class="dropdown-item" data-value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
                                        <div class="dropdown-item" data-value="it">Italiano</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Security Options</h4>
                                <p>Manage wallet security settings</p>
                            </div>
                            <div class="setting-actions">
                                <button id="change-password-button" class="setting-button">
                                    Change Password
                                </button>
                                <div id="change-password-form" class="setting-form hidden">
                                    <input type="password" id="change-old-password" placeholder="Current password" class="setting-input">
                                    <input type="password" id="change-new-password" placeholder="New password" class="setting-input">
                                    <input type="password" id="change-confirm-password" placeholder="Confirm new password" class="setting-input">
                                    <button id="confirm-change-password" class="setting-button primary">Update Password</button>
                                </div>
                                <button id="show-seed-button" class="setting-button">
                                    Export Recovery Phrase
                                </button>
                                <div id="seed-phrase-form" class="setting-form hidden">
                                    <div class="info-box" style="background: rgba(100,200,255,0.1); border: 1px solid rgba(100,200,255,0.3); color: #64c8ff; padding: 10px; border-radius: 8px; margin-bottom: 10px; font-size: 13px;">
                                        <strong>‚úì Universal compatibility:</strong> Use this phrase to import your wallet to Phantom, Solflare, MetaMask, or any other wallet
                                    </div>
                                    <input type="password" id="seed-password" placeholder="Enter password to reveal" class="setting-input">
                                    <textarea id="seed-phrase-display" class="setting-textarea" readonly placeholder="Your 12-word recovery phrase will appear here"></textarea>
                                    <button id="confirm-show-seed" class="setting-button primary">Show Recovery Phrase</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Connected dApps</h4>
                                <p>Manage blockchain app connections</p>
                            </div>
                            <div class="setting-actions">
                                <button id="manage-connections-button" class="setting-button">
                                    Manage Connections
                                </button>
                                <div id="connected-sites-count" class="setting-note">
                                    <span id="sites-count">0</span> sites connected
                                </div>
                                <div id="connected-sites-list" class="connected-sites hidden"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-group danger-zone">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Danger Zone</h4>
                                <p>Irreversible actions - use with extreme caution</p>
                            </div>
                            <div class="setting-actions">
                                <button id="reset-wallet-button" class="setting-button danger">
                                    Reset Wallet
                                </button>
                                <div id="reset-wallet-confirm" class="confirmation-dialog hidden">
                                    <div class="confirm-header">
                                        <span class="confirm-icon">‚ö†Ô∏è</span>
                                        <h4>Reset Wallet</h4>
                                    </div>
                                    <p class="confirm-message">This will delete all accounts and seed phrases. Make sure you have backups of your recovery phrase and private keys.</p>
                                    <div class="confirm-actions">
                                        <button id="cancel-reset" class="confirm-button cancel">Cancel</button>
                                        <button id="confirm-reset" class="confirm-button danger">Reset</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Receive Modal -->
        <div id="receive-modal" class="modal-overlay hidden">
            <div class="modal-box modern">
                <div class="modal-header">
                    <h3>Receive <span id="receive-network-name">QNC</span></h3>
                    <button class="close-button" id="close-receive-modal">‚úï</button>
                </div>
                <div class="receive-content">
                    <div class="qr-container" id="qr-container">
                        <canvas id="qr-canvas"></canvas>
                    </div>
                    <div class="address-display">
                        <div class="address-text" id="receive-address">Loading...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account Select Modal -->
        <div id="account-select-modal" class="modal-overlay hidden">
            <div class="modal-box modern">
                <div class="modal-header">
                    <h3>üë§ Select Account</h3>
                    <button id="close-account-select" class="close-button">‚úï</button>
                </div>
                
                <div id="account-list" class="account-list">
                    <!-- Accounts will be populated dynamically -->
                </div>
                
                <div class="modal-actions">
                    <button id="create-account-button" class="qnet-button secondary modern">Create Account</button>
                    <button id="import-account-button" class="qnet-button secondary modern">Import Account</button>
                </div>
            </div>
        </div>

        <!-- Wallet Setup Modal -->
        <div id="wallet-setup-modal" class="modal-overlay hidden">
            <div class="modal-box large modern">
                <div class="modal-header">
                    <h3 id="setup-modal-title">Create New Wallet</h3>
                    <button id="close-setup" class="close-button">‚úï</button>
                </div>
                
                <div id="setup-content" class="setup-content">
                    <!-- Create Wallet -->
                    <div id="create-wallet-content" class="setup-step">
                        <div class="step-header">
                            <h4>Create Your QNet Dual Wallet</h4>
                            <p>Secure HD wallet supporting both Solana and QNet networks</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-password">Create Password</label>
                            <input type="password" id="new-password" placeholder="Enter a strong password" 
                                   autocomplete="new-password" minlength="8" />
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm-password">Confirm Password</label>
                            <input type="password" id="confirm-password" placeholder="Confirm your password" 
                                   autocomplete="new-password" minlength="8" />
                        </div>
                        
                        <div id="password-create-error" class="inline-error hidden"></div>
                        
                        <div class="password-requirements">
                            <p>Password requirements:</p>
                            <ul>
                                <li>At least 8 characters</li>
                                <li>Upper and lowercase letters</li>
                                <li>Numbers and special characters</li>
                            </ul>
                        </div>
                        
                        <button id="generate-wallet-button" class="qnet-button primary gradient full-width">
                            Generate Dual Wallet
                        </button>
                    </div>
                    
                    <!-- Import Wallet -->
                    <div id="import-wallet-content" class="setup-step hidden">
                        <div class="step-header">
                            <h4>Import Recovery Phrase</h4>
                            <p>Enter your 12 or 24-word recovery phrase to restore your wallet.</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="seed-phrase-input">Recovery Phrase</label>
                            <textarea id="seed-phrase-input" 
                                      placeholder="Enter your 12 or 24-word recovery phrase separated by spaces" 
                                      rows="4" autocomplete="off" spellcheck="false" autocorrect="off"></textarea>
                            <div class="input-hint">
                                Compatible with all standard BIP39 wallets
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="import-password">Set New Password</label>
                            <input type="password" id="import-password" placeholder="Create a password for this wallet" 
                                   autocomplete="new-password" minlength="8" />
                        </div>
                        
                        <div id="import-error" class="inline-error hidden"></div>
                        
                        <button id="import-wallet-confirm-button" class="qnet-button primary gradient full-width">
                            Import Dual Wallet
                        </button>
                    </div>
                    
                    <!-- Seed Phrase Display -->
                    <div id="seed-phrase-display" class="setup-step hidden">
                        <div class="step-header">
                            <h4>Save Your Recovery Phrase</h4>
                            <p>Write down these 12 words in order and keep them safe:</p>
                        </div>
                        
                        <div id="seed-phrase-words" class="seed-phrase-grid">
                            <!-- Seed words will be populated here -->
                        </div>
                        
                        <div class="seed-actions">
                            <button id="copy-seed-button" class="qnet-button secondary modern">
                                Copy to Clipboard
                            </button>
                            <button id="download-seed-button" class="qnet-button secondary modern">
                                Download as File
                            </button>
                        </div>
                        
                        <div class="seed-warnings">
                            <div class="warning-item">
                                <span class="warning-icon">!</span>
                                <span>Never share your recovery phrase with anyone!</span>
                            </div>
                            <div class="warning-item">
                                <span class="warning-icon">‚Ä¢</span>
                                <span>QNet cannot recover lost recovery phrases.</span>
                            </div>
                            <div class="warning-item">
                                <span class="warning-icon">i</span>
                                <span>Store multiple copies in secure locations.</span>
                            </div>
                        </div>
                        
                        <button id="seed-confirmed-button" class="qnet-button primary gradient full-width">
                            I've Saved My Recovery Phrase
                        </button>
                    </div>
                    
                    <!-- Seed Phrase Verification -->
                    <div id="seed-verification" class="setup-step hidden">
                        <div class="step-header">
                            <h4>Verify Your Recovery Phrase</h4>
                            <p>Select the correct words to confirm you saved it correctly:</p>
                        </div>
                        
                        <div id="verification-fields" class="verification-container">
                            <!-- Verification fields will be populated here -->
                        </div>
                        
                        <div id="verification-error" class="inline-error hidden"></div>
                        
                        <div class="verification-actions">
                            <button id="back-to-seed-button" class="qnet-button secondary modern">
                                ‚Üê Back to Recovery Phrase
                            </button>
                            <button id="verify-seed-button" class="qnet-button primary gradient" disabled>
                                Verify & Complete Setup
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load production version with working interface -->
    <script src="src/crypto/Ed25519.js"></script>
    <script src="src/security/SecureKeyManager.js"></script>
    <script src="popup.js"></script>
</body>
</html> 